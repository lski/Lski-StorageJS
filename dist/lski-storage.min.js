!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e.lski=e.lski||{},e.lski.storage={}))}(this,function(e){"use strict";let t=0;const n=(e,n)=>`${n||`idx${++t}`}_${e}`,o=e=>(t,o="")=>{const s=n(t,o),i=()=>{const t=e.getItem(s);if(null===t)return null;const n=JSON.parse(t);return null===n.expiresAt||n.expiresAt>Date.now()?n.value:(e.removeItem(s),null)};return{get:i,set:(t,n)=>{const o={value:t,expiresAt:void 0===n?null:"number"==typeof n?n:n.getTime()};return e.setItem(s,JSON.stringify(o)),t},clear:()=>{e.removeItem(s)},has:()=>!!i()}},s=o(localStorage);const i=e=>null==e?"":encodeURIComponent(JSON.stringify(e)),r=o(sessionStorage);e.local=s,e.cookie=function(e,t="",o={path:"/",domain:location.hostname}){const s=encodeURIComponent(n(e,t)),r=(e,t)=>{const n=[`${s}=${i(e)}`];if(o.path&&n.push("path="+o.path),o.domain&&n.push("domain="+o.domain),void 0!==t){const e="number"==typeof t?new Date(t):t;n.push("expires="+e.toUTCString())}return document.cookie=n.join(";"),e},l=()=>{const e=document.cookie.match(`(^|;) ?${s}=([^;]*)(;|$)`);if(!e)return null;const t=decodeURIComponent(e[2]);return 0===t.length?null:JSON.parse(t)};return{get:l,set:r,clear:()=>{r(null)},has:()=>!!l()}},e.session=r,e.expiresIn=(e=>(e=>Date.now()+e)(1e3*e)),Object.defineProperty(e,"__esModule",{value:!0})});
